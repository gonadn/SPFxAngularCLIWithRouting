{"version":3,"file":"ContextualMenu.js","sourceRoot":"../src/","sources":["components/ContextualMenu/ContextualMenu.tsx"],"names":[],"mappings":"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","sourcesContent":["import * as React from 'react';\r\nimport { IContextualMenuProps, IContextualMenuItem, ContextualMenuItemType } from './ContextualMenu.Props';\r\nimport { DirectionalHint } from '../../common/DirectionalHint';\r\nimport { FocusZone, FocusZoneDirection } from '../../FocusZone';\r\nimport {\r\n  IMenuItemClassNames,\r\n  IContextualMenuClassNames,\r\n  getContextualMenuClassNames,\r\n  getItemClassNames,\r\n  getSplitButtonVerticalDividerClassNames\r\n} from './ContextualMenu.classNames';\r\nimport {\r\n  BaseComponent,\r\n  IPoint,\r\n  anchorProperties,\r\n  buttonProperties,\r\n  getNativeProps,\r\n  assign,\r\n  getId,\r\n  getRTL,\r\n  autobind,\r\n  KeyCodes,\r\n  getDocument,\r\n  getWindow,\r\n  customizable,\r\n  getFirstFocusable,\r\n  getLastFocusable\r\n} from '../../Utilities';\r\nimport { withResponsiveMode, ResponsiveMode } from '../../utilities/decorators/withResponsiveMode';\r\nimport { Callout } from '../../Callout';\r\nimport {\r\n  Icon,\r\n  IIconProps\r\n} from '../../Icon';\r\nimport {\r\n  VerticalDivider\r\n} from '../../Divider';\r\nexport interface IContextualMenuState {\r\n  expandedMenuItemKey?: string;\r\n  dismissedMenuItemKey?: string;\r\n  contextualMenuItems?: IContextualMenuItem[];\r\n  contextualMenuTarget?: HTMLElement;\r\n  submenuTarget?: HTMLElement;\r\n  positions?: any;\r\n  slideDirectionalClassName?: string;\r\n  subMenuId?: string;\r\n  submenuDirection?: DirectionalHint;\r\n}\r\n\r\nexport function hasSubmenuItems(item: IContextualMenuItem) {\r\n  let submenuItems = getSubmenuItems(item);\r\n\r\n  return !!(submenuItems && submenuItems.length);\r\n}\r\n\r\nexport function getSubmenuItems(item: IContextualMenuItem) {\r\n  return item.subMenuProps ? item.subMenuProps.items : item.items;\r\n}\r\n\r\n/**\r\n * Determines the effective checked state of a menu item.\r\n *\r\n * @param item {IContextualMenuItem} to get the check state of.\r\n * @returns {true} if the item is checked.\r\n * @returns {false} if the item is unchecked.\r\n * @returns {null} if the item is not checkable.\r\n */\r\nfunction getIsChecked(item: IContextualMenuItem): boolean | null {\r\n  if (item.canCheck) {\r\n    return !!(item.isChecked || item.checked);\r\n  }\r\n\r\n  if (typeof item.isChecked === 'boolean') {\r\n    return item.isChecked;\r\n  }\r\n\r\n  if (typeof item.checked === 'boolean') {\r\n    return item.checked;\r\n  }\r\n\r\n  // Item is not checkable.\r\n  return null;\r\n}\r\n\r\n/**\r\n * Returns true if a list of menu items can contain a checkbox\r\n */\r\nexport function canAnyMenuItemsCheck(items: IContextualMenuItem[]): boolean {\r\n  return items.some(item => {\r\n    if (item.canCheck) {\r\n      return true;\r\n    }\r\n\r\n    // If the item is a section, check if any of the items in the section can check.\r\n    if (item.sectionProps && item.sectionProps.items.some(submenuItem => submenuItem.canCheck === true)) {\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  });\r\n}\r\n\r\n@customizable('ContextualMenu', ['theme'])\r\n@withResponsiveMode\r\nexport class ContextualMenu extends BaseComponent<IContextualMenuProps, IContextualMenuState> {\r\n  // The default ContextualMenu properties have no items and beak, the default submenu direction is right and top.\r\n  public static defaultProps: IContextualMenuProps = {\r\n    items: [],\r\n    shouldFocusOnMount: true,\r\n    gapSpace: 0,\r\n    directionalHint: DirectionalHint.bottomAutoEdge,\r\n    beakWidth: 16,\r\n    arrowDirection: FocusZoneDirection.vertical,\r\n    getMenuClassNames: getContextualMenuClassNames,\r\n  };\r\n\r\n  private _host: HTMLElement;\r\n  private _previousActiveElement: HTMLElement | null;\r\n  private _isFocusingPreviousElement: boolean;\r\n  private _enterTimerId: number;\r\n  private _targetWindow: Window;\r\n  private _target: HTMLElement | MouseEvent | IPoint | null;\r\n  private _classNames: IContextualMenuClassNames;\r\n\r\n  constructor(props: IContextualMenuProps) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      contextualMenuItems: undefined,\r\n      subMenuId: getId('ContextualMenu')\r\n    };\r\n\r\n    this._warnDeprecations({\r\n      'targetPoint': 'target',\r\n      'useTargetPoint': 'target',\r\n    });\r\n\r\n    this._isFocusingPreviousElement = false;\r\n    this._enterTimerId = 0;\r\n  }\r\n\r\n  @autobind\r\n  public dismiss(ev?: any, dismissAll?: boolean) {\r\n    let { onDismiss } = this.props;\r\n\r\n    if (onDismiss) {\r\n      onDismiss(ev, dismissAll);\r\n    }\r\n  }\r\n\r\n  public componentWillUpdate(newProps: IContextualMenuProps) {\r\n    if (newProps.target !== this.props.target) {\r\n      let newTarget = newProps.target;\r\n      this._setTargetWindowAndElement(newTarget!);\r\n    }\r\n  }\r\n\r\n  // Invoked once, both on the client and server, immediately before the initial rendering occurs.\r\n  public componentWillMount() {\r\n    let target = this.props.target;\r\n    this._setTargetWindowAndElement(target!);\r\n    this._previousActiveElement = this._targetWindow ? this._targetWindow.document.activeElement as HTMLElement : null;\r\n  }\r\n\r\n  // Invoked once, only on the client (not on the server), immediately after the initial rendering occurs.\r\n  public componentDidMount() {\r\n    this._events.on(this._targetWindow, 'resize', this.dismiss);\r\n    if (this.props.onMenuOpened) {\r\n      this.props.onMenuOpened(this.props);\r\n    }\r\n  }\r\n\r\n  // Invoked immediately before a component is unmounted from the DOM.\r\n  public componentWillUnmount() {\r\n    if (this._isFocusingPreviousElement && this._previousActiveElement) {\r\n\r\n      // This slight delay is required so that we can unwind the stack, let react try to mess with focus, and then\r\n      // apply the correct focus. Without the setTimeout, we end up focusing the correct thing, and then React wants\r\n      // to reset the focus back to the thing it thinks should have been focused.\r\n      setTimeout(() => this._previousActiveElement!.focus(), 0);\r\n    }\r\n\r\n    this._events.dispose();\r\n    this._async.dispose();\r\n  }\r\n\r\n  public render(): JSX.Element | null {\r\n    let { className,\r\n      items,\r\n      isBeakVisible,\r\n      labelElementId,\r\n      id,\r\n      targetPoint,\r\n      useTargetPoint,\r\n      beakWidth,\r\n      directionalHint,\r\n      directionalHintForRTL,\r\n      gapSpace,\r\n      coverTarget,\r\n      ariaLabel,\r\n      doNotLayer,\r\n      arrowDirection,\r\n      target,\r\n      bounds,\r\n      useTargetWidth,\r\n      directionalHintFixed,\r\n      shouldFocusOnMount,\r\n      title,\r\n      styles: customStyles,\r\n      theme,\r\n      calloutProps,\r\n      onRenderSubMenu = this._onRenderSubMenu\r\n    } = this.props;\r\n\r\n    let menuClassNames = this.props.getMenuClassNames || getContextualMenuClassNames;\r\n    this._classNames = menuClassNames(theme!, className);\r\n\r\n    let hasIcons = itemsHaveIcons(items);\r\n\r\n    function itemsHaveIcons(contextualMenuItems: IContextualMenuItem[]): boolean {\r\n      for (const item of contextualMenuItems) {\r\n        if (!!item.icon || !!item.iconProps) {\r\n          return true;\r\n        }\r\n\r\n        if (item.itemType === ContextualMenuItemType.Section && item.sectionProps && itemsHaveIcons(item.sectionProps.items)) {\r\n          return true;\r\n        }\r\n      }\r\n\r\n      return false;\r\n    }\r\n\r\n    let hasCheckmarks = canAnyMenuItemsCheck(items);\r\n    const submenuProps = this.state.expandedMenuItemKey ? this._getSubmenuProps() : null;\r\n\r\n    isBeakVisible = isBeakVisible === undefined ? this.props.responsiveMode! <= ResponsiveMode.medium : isBeakVisible;\r\n    /**\r\n     * When useTargetWidth is true, get the width of the target element and apply it for the context menu container\r\n     */\r\n    let contextMenuStyle;\r\n    let targetAsHtmlElement = this._target as HTMLElement;\r\n    if (useTargetWidth && targetAsHtmlElement && targetAsHtmlElement.offsetWidth) {\r\n      let contextMenuWidth = targetAsHtmlElement.offsetWidth;\r\n      contextMenuStyle = {\r\n        width: contextMenuWidth\r\n      };\r\n    }\r\n\r\n    // The menu should only return if items were provided, if no items were provided then it should not appear.\r\n    if (items && items.length > 0) {\r\n      let indexCorrection = 0;\r\n      let totalItemCount = 0;\r\n      for (let item of items) {\r\n        if (item.itemType !== ContextualMenuItemType.Divider &&\r\n          item.itemType !== ContextualMenuItemType.Header) {\r\n          totalItemCount++;\r\n        }\r\n      }\r\n      return (\r\n        <Callout\r\n          {...calloutProps}\r\n          target={ useTargetPoint ? targetPoint : target }\r\n          isBeakVisible={ isBeakVisible }\r\n          beakWidth={ beakWidth }\r\n          directionalHint={ directionalHint }\r\n          directionalHintForRTL={ directionalHintForRTL }\r\n          gapSpace={ gapSpace }\r\n          coverTarget={ coverTarget }\r\n          doNotLayer={ doNotLayer }\r\n          className='ms-ContextualMenu-Callout'\r\n          setInitialFocus={ shouldFocusOnMount }\r\n          onDismiss={ this.props.onDismiss }\r\n          bounds={ bounds }\r\n          directionalHintFixed={ directionalHintFixed }\r\n        >\r\n          <div\r\n            role='menu'\r\n            style={ contextMenuStyle }\r\n            ref={ (host: HTMLDivElement) => this._host = host }\r\n            id={ id }\r\n            className={ this._classNames.container }\r\n            tabIndex={ 0 }\r\n            onKeyDown={ this._onMenuKeyDown }\r\n          >\r\n            { title && <div className={ this._classNames.title } role='heading' aria-level={ 1 }> { title } </div> }\r\n            { (items && items.length) ? (\r\n              <FocusZone\r\n                className={ this._classNames.root }\r\n                direction={ arrowDirection }\r\n                isCircularNavigation={ true }\r\n              >\r\n                <ul\r\n                  aria-label={ ariaLabel }\r\n                  aria-labelledby={ labelElementId }\r\n                  className={ this._classNames.list }\r\n                  onKeyDown={ this._onKeyDown }\r\n                >\r\n                  { items.map((item, index) => {\r\n                    if (item.itemType === ContextualMenuItemType.Divider ||\r\n                      item.itemType === ContextualMenuItemType.Header) {\r\n                      indexCorrection++;\r\n                    }\r\n                    return this._renderMenuItem(item, index, index - indexCorrection, totalItemCount, hasCheckmarks, hasIcons);\r\n                  }) }\r\n                </ul>\r\n              </FocusZone>\r\n            ) : (null) }\r\n            { submenuProps && onRenderSubMenu(submenuProps, this._onRenderSubMenu) }\r\n          </div>\r\n        </Callout>\r\n      );\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  private _onRenderSubMenu(subMenuProps: IContextualMenuProps) {\r\n    return <ContextualMenu { ...subMenuProps } />;\r\n  }\r\n\r\n  private _renderMenuItem(item: IContextualMenuItem, index: number, focusableElementIndex: number, totalItemCount: number, hasCheckmarks: boolean, hasIcons: boolean): React.ReactNode {\r\n    let renderedItems: React.ReactNode[] = [];\r\n    let iconProps = this._getIconProps(item);\r\n    // We only send a dividerClassName when the item to be rendered is a divider. For all other cases, the default divider style is used.\r\n    let dividerClassName = item.itemType === ContextualMenuItemType.Divider ? item.className : undefined;\r\n    let subMenuIconClassName = item.submenuIconProps ? item.submenuIconProps.className : '';\r\n    let getClassNames = item.getItemClassNames || getItemClassNames;\r\n    let itemClassNames = getClassNames(\r\n      this.props.theme!,\r\n      !!item.disabled,\r\n      (this.state.expandedMenuItemKey === item.key),\r\n      !!getIsChecked(item),\r\n      !!item.href,\r\n      (iconProps.iconName !== 'None'),\r\n      item.className,\r\n      dividerClassName,\r\n      iconProps.className,\r\n      subMenuIconClassName\r\n    );\r\n\r\n    if (item.name === '-') {\r\n      item.itemType = ContextualMenuItemType.Divider;\r\n    }\r\n    switch (item.itemType) {\r\n      case ContextualMenuItemType.Divider:\r\n        renderedItems.push(this._renderSeparator(index, itemClassNames));\r\n        break;\r\n      case ContextualMenuItemType.Header:\r\n        renderedItems.push(this._renderSeparator(index, itemClassNames));\r\n        let headerItem = this._renderHeaderMenuItem(item, itemClassNames, index, hasCheckmarks, hasIcons);\r\n        renderedItems.push(this._renderListItem(headerItem, item.key || index, itemClassNames, item.title));\r\n        break;\r\n      case ContextualMenuItemType.Section:\r\n        renderedItems.push(this._renderSectionItem(item, itemClassNames, index, hasCheckmarks, hasIcons));\r\n        break;\r\n      default:\r\n        let menuItem = this._renderNormalItem(item, itemClassNames, index, focusableElementIndex, totalItemCount, hasCheckmarks, hasIcons);\r\n        renderedItems.push(this._renderListItem(menuItem, item.key || index, itemClassNames, item.title));\r\n        break;\r\n    }\r\n\r\n    return renderedItems;\r\n  }\r\n\r\n  private _renderSectionItem(item: IContextualMenuItem, menuClassNames: IMenuItemClassNames, index: number, hasCheckmarks: boolean, hasIcons: boolean) {\r\n    const section = item.sectionProps;\r\n    if (!section) {\r\n      return;\r\n    }\r\n\r\n    let headerItem;\r\n    if (section.title) {\r\n      const headerContextualMenuItem: IContextualMenuItem = {\r\n        key: `section-${section.title}-title`,\r\n        itemType: ContextualMenuItemType.Header,\r\n        name: section.title,\r\n      };\r\n      headerItem = this._renderHeaderMenuItem(headerContextualMenuItem, menuClassNames, index, hasCheckmarks, hasIcons);\r\n    }\r\n\r\n    if (section.items && section.items.length > 0) {\r\n      return (\r\n        <li\r\n          role='presentation'\r\n          key={ section.key }\r\n        >\r\n          <div role='group'>\r\n            <ul className={ this._classNames.list }>\r\n              { section.topDivider && this._renderSeparator(index, menuClassNames, true, true) }\r\n              { headerItem && this._renderListItem(headerItem, item.key || index, menuClassNames, item.title) }\r\n              { section.items.map((contextualMenuItem, itemsIndex) => (\r\n                this._renderMenuItem(contextualMenuItem, itemsIndex, itemsIndex, section.items.length, hasCheckmarks, hasIcons)\r\n              )) }\r\n              { section.bottomDivider && this._renderSeparator(index, menuClassNames, false, true) }\r\n            </ul>\r\n          </div>\r\n        </li>\r\n      );\r\n    }\r\n  }\r\n\r\n  private _renderListItem(content: React.ReactNode, key: string | number, classNames: IMenuItemClassNames, title?: string) {\r\n    return (\r\n      <li\r\n        role='presentation'\r\n        title={ title }\r\n        key={ key }\r\n        className={ classNames.item }\r\n      >\r\n        { content }\r\n      </li>\r\n    );\r\n  }\r\n\r\n  private _renderSeparator(index: number, classNames: IMenuItemClassNames, top?: boolean, fromSection?: boolean): React.ReactNode {\r\n    if (fromSection || index > 0) {\r\n      return (\r\n        <li\r\n          role='separator'\r\n          key={ 'separator-' + index + (top === undefined ? '' : (top ? '-top' : '-bottom')) }\r\n          className={ classNames.divider }\r\n        />\r\n      );\r\n    }\r\n    return null;\r\n  }\r\n\r\n  private _renderNormalItem(item: IContextualMenuItem, classNames: IMenuItemClassNames, index: number, focusableElementIndex: number, totalItemCount: number, hasCheckmarks: boolean, hasIcons: boolean): React.ReactNode {\r\n    if (item.onRender) {\r\n      return [item.onRender(item, this.dismiss)];\r\n    }\r\n    if (item.href) {\r\n      return this._renderAnchorMenuItem(item, classNames, index, focusableElementIndex, totalItemCount, hasCheckmarks, hasIcons);\r\n    }\r\n\r\n    if (item.split && hasSubmenuItems(item)) {\r\n      return this._renderSplitButton(item, classNames, index, focusableElementIndex, totalItemCount, hasCheckmarks, hasIcons);\r\n    }\r\n\r\n    return this._renderButtonItem(item, classNames, index, focusableElementIndex, totalItemCount, hasCheckmarks, hasIcons);\r\n  }\r\n\r\n  private _renderHeaderMenuItem(item: IContextualMenuItem, classNames: IMenuItemClassNames, index: number, hasCheckmarks: boolean, hasIcons: boolean): React.ReactNode {\r\n    return (\r\n      <div className={ this._classNames.header } style={ item.style } role='heading' aria-level={ this.props.title ? 2 : 1 }>\r\n        { this._renderMenuItemChildren(item, classNames, index, hasCheckmarks, hasIcons) }\r\n      </div>);\r\n  }\r\n\r\n  private _renderAnchorMenuItem(item: IContextualMenuItem, classNames: IMenuItemClassNames, index: number, focusableElementIndex: number, totalItemCount: number, hasCheckmarks: boolean, hasIcons: boolean): React.ReactNode {\r\n    return (\r\n      <div>\r\n        <a\r\n          { ...getNativeProps(item, anchorProperties) }\r\n          href={ item.href }\r\n          target={ item.target }\r\n          className={ classNames.root }\r\n          role='menuitem'\r\n          aria-posinset={ focusableElementIndex + 1 }\r\n          aria-setsize={ totalItemCount }\r\n          aria-disabled={ item.isDisabled }\r\n          style={ item.style }\r\n          onClick={ this._onAnchorClick.bind(this, item) }\r\n        >\r\n          { this._renderMenuItemChildren(item, classNames, index, hasCheckmarks, hasIcons) }\r\n        </a>\r\n      </div>);\r\n  }\r\n\r\n  private _renderButtonItem(\r\n    item: IContextualMenuItem,\r\n    classNames: IMenuItemClassNames,\r\n    index: number,\r\n    focusableElementIndex: number,\r\n    totalItemCount: number,\r\n    hasCheckmarks?: boolean,\r\n    hasIcons?: boolean) {\r\n    let { expandedMenuItemKey, subMenuId } = this.state;\r\n    let ariaLabel = '';\r\n\r\n    if (item.ariaLabel) {\r\n      ariaLabel = item.ariaLabel;\r\n    } else if (item.name) {\r\n      ariaLabel = item.name;\r\n    }\r\n\r\n    const isChecked: boolean | null | undefined = getIsChecked(item);\r\n    const canCheck: boolean = isChecked !== null;\r\n    const defaultRole = canCheck ? 'menuitemcheckbox' : 'menuitem';\r\n\r\n    const itemButtonProperties = {\r\n      className: classNames.root,\r\n      onClick: this._onItemClick.bind(this, item),\r\n      onKeyDown: hasSubmenuItems(item) ? this._onItemKeyDown.bind(this, item) : null,\r\n      onMouseEnter: this._onItemMouseEnter.bind(this, item),\r\n      onMouseLeave: this._onMouseItemLeave.bind(this, item),\r\n      onMouseDown: (ev: any) => this._onItemMouseDown(item, ev),\r\n      onMouseMove: this._onItemMouseMove.bind(this, item),\r\n      disabled: item.isDisabled || item.disabled,\r\n      href: item.href,\r\n      title: item.title,\r\n      'aria-label': ariaLabel,\r\n      'aria-haspopup': hasSubmenuItems(item) || null,\r\n      'aria-owns': item.key === expandedMenuItemKey ? subMenuId : null,\r\n      'aria-expanded': hasSubmenuItems(item) ? item.key === expandedMenuItemKey : null,\r\n      'aria-checked': isChecked,\r\n      'aria-posinset': focusableElementIndex + 1,\r\n      'aria-setsize': totalItemCount,\r\n      'aria-disabled': item.isDisabled,\r\n      role: item.role || defaultRole,\r\n      style: item.style\r\n    };\r\n\r\n    return React.createElement(\r\n      'button',\r\n      assign({}, getNativeProps(item, buttonProperties), itemButtonProperties),\r\n      this._renderMenuItemChildren(item, classNames, index, hasCheckmarks!, hasIcons!));\r\n  }\r\n\r\n  private _renderSplitButton(\r\n    item: IContextualMenuItem,\r\n    classNames: IMenuItemClassNames,\r\n    index: number,\r\n    focusableElementIndex: number,\r\n    totalItemCount: number,\r\n    hasCheckmarks?: boolean,\r\n    hasIcons?: boolean): JSX.Element {\r\n\r\n    return (\r\n      <div\r\n        aria-labelledby={ item.ariaLabel }\r\n        aria-disabled={ item.isDisabled || item.disabled }\r\n        aria-haspopup={ true }\r\n        aria-describedby={ item.ariaDescription }\r\n        aria-checked={ item.isChecked || item.checked }\r\n      >\r\n        <span\r\n          aria-hidden={ true }\r\n          className={ classNames.splitContainer }\r\n        >\r\n          { this._renderSplitPrimaryButton(item, classNames, index, hasCheckmarks!, hasIcons!) }\r\n          { this._renderSplitDivider(item) }\r\n          { this._renderSplitIconButton(item, classNames, index) }\r\n        </span>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  private _renderSplitPrimaryButton(item: IContextualMenuItem, classNames: IMenuItemClassNames, index: number, hasCheckmarks: boolean, hasIcons: boolean) {\r\n\r\n    const isChecked: boolean | null | undefined = getIsChecked(item);\r\n    const canCheck: boolean = isChecked !== null;\r\n    const defaultRole = canCheck ? 'menuitemcheckbox' : 'menuitem';\r\n\r\n    const itemProps = {\r\n      onClick: this._executeItemClick.bind(this, item),\r\n      disabled: item.disabled || item.primaryDisabled,\r\n      name: item.name,\r\n      className: classNames.splitPrimary,\r\n      role: item.role || defaultRole,\r\n      canCheck: item.canCheck,\r\n      isChecked: item.isChecked,\r\n      checked: item.checked,\r\n      icon: item.icon,\r\n      iconProps: item.iconProps\r\n    } as IContextualMenuItem;\r\n    return React.createElement('button',\r\n      getNativeProps(itemProps, buttonProperties),\r\n      this._renderMenuItemChildren(itemProps, classNames, index, hasCheckmarks, hasIcons));\r\n  }\r\n\r\n  private _renderSplitIconButton(item: IContextualMenuItem, classNames: IMenuItemClassNames, index: number) {\r\n    const itemProps = {\r\n      onClick: this._onItemClick.bind(this, item),\r\n      disabled: item.disabled,\r\n      className: classNames.splitMenu,\r\n      subMenuProps: item.subMenuProps,\r\n      submenuIconProps: item.submenuIconProps,\r\n      split: true,\r\n    } as IContextualMenuItem;\r\n\r\n    return React.createElement('button',\r\n      assign({}, getNativeProps(itemProps, buttonProperties), {\r\n        onKeyDown: this._onItemKeyDown.bind(this, item)\r\n      }),\r\n      this._renderMenuItemChildren(itemProps, classNames, index, false, false));\r\n  }\r\n\r\n  private _renderSplitDivider(item: IContextualMenuItem) {\r\n    let getDividerClassnames = item.getSplitButtonVerticalDividerClassNames || getSplitButtonVerticalDividerClassNames;\r\n    return <VerticalDivider getClassNames={ getDividerClassnames } />;\r\n  }\r\n\r\n  private _renderMenuItemChildren(item: IContextualMenuItem, classNames: IMenuItemClassNames, index: number, hasCheckmarks: boolean, hasIcons: boolean) {\r\n    const isItemChecked: boolean | null | undefined = getIsChecked(item);\r\n    return (\r\n      <div className={ item.split ? classNames.linkContentMenu : classNames.linkContent }>\r\n        { (hasCheckmarks) ? (\r\n          <Icon\r\n            iconName={ isItemChecked === true ? 'CheckMark' : '' }\r\n            className={ classNames.checkmarkIcon }\r\n            onClick={ this._onItemClick.bind(this, item) }\r\n          />\r\n        ) : (null) }\r\n        { (hasIcons) ? (\r\n          this._renderIcon(item, classNames)\r\n        ) : (null) }\r\n        { item.name ? (\r\n          <span className={ classNames.label }>{ item.name }</span>\r\n        ) : null\r\n        }\r\n        { hasSubmenuItems(item) ? (\r\n          <Icon\r\n            iconName={ getRTL() ? 'ChevronLeft' : 'ChevronRight' }\r\n            { ...item.submenuIconProps }\r\n            className={ classNames.subMenuIcon }\r\n          />\r\n        ) : (null) }\r\n      </div>\r\n    );\r\n  }\r\n\r\n  private _getIconProps(item: IContextualMenuItem): IIconProps {\r\n    let iconProps: IIconProps = item.iconProps ? item.iconProps : {\r\n      iconName: item.icon\r\n    };\r\n    return iconProps;\r\n  }\r\n\r\n  private _renderIcon(item: IContextualMenuItem, classNames: IMenuItemClassNames) {\r\n    // Only present to allow continued use of item.icon which is deprecated.\r\n    let iconProps = this._getIconProps(item);\r\n\r\n    return <Icon { ...iconProps } className={ classNames.icon } />;\r\n  }\r\n\r\n  @autobind\r\n  private _onKeyDown(ev: React.KeyboardEvent<HTMLElement>) {\r\n    let submenuCloseKey = getRTL() ? KeyCodes.right : KeyCodes.left;\r\n\r\n    if (ev.which === KeyCodes.escape\r\n      || ev.which === KeyCodes.tab\r\n      || (ev.which === submenuCloseKey && this.props.isSubMenu && this.props.arrowDirection === FocusZoneDirection.vertical)) {\r\n      // When a user presses escape, we will try to refocus the previous focused element.\r\n      this._isFocusingPreviousElement = true;\r\n      ev.preventDefault();\r\n      ev.stopPropagation();\r\n      this.dismiss(ev);\r\n    }\r\n  }\r\n\r\n  @autobind\r\n  private _onMenuKeyDown(ev: React.KeyboardEvent<HTMLElement>) {\r\n    if (ev.which === KeyCodes.escape) {\r\n      this._isFocusingPreviousElement = true;\r\n      ev.preventDefault();\r\n      ev.stopPropagation();\r\n      this.dismiss(ev);\r\n      return;\r\n    }\r\n\r\n    if (!this._host) {\r\n      return;\r\n    }\r\n\r\n    let elementToFocus = ev.which === KeyCodes.up ?\r\n      getLastFocusable(this._host, (this._host.lastChild as HTMLElement), true) :\r\n      ev.which === KeyCodes.down ?\r\n        getFirstFocusable(this._host, (this._host.firstChild as HTMLElement), true) :\r\n        null;\r\n\r\n    if (elementToFocus) {\r\n      elementToFocus.focus();\r\n    }\r\n  }\r\n\r\n  private _onItemMouseEnter(item: any, ev: React.MouseEvent<HTMLElement>) {\r\n    let targetElement = ev.currentTarget as HTMLElement;\r\n\r\n    if (item.key !== this.state.expandedMenuItemKey) {\r\n      if (hasSubmenuItems(item)) {\r\n        this._enterTimerId = this._async.setTimeout(() => this._onItemSubMenuExpand(item, targetElement), 500);\r\n      } else {\r\n        this._enterTimerId = this._async.setTimeout(() => this._onSubMenuDismiss(ev), 500);\r\n      }\r\n    }\r\n\r\n    targetElement.focus();\r\n  }\r\n\r\n  private _onItemMouseMove(item: any, ev: React.MouseEvent<HTMLElement>) {\r\n    let targetElement = ev.currentTarget as HTMLElement;\r\n\r\n    if (targetElement === this._targetWindow.document.activeElement as HTMLElement) {\r\n      return;\r\n    }\r\n\r\n    if (item.key !== this.state.expandedMenuItemKey) {\r\n      if (hasSubmenuItems(item)) {\r\n        this._enterTimerId = this._async.setTimeout(() => this._onItemSubMenuExpand(item, targetElement), 500);\r\n      } else {\r\n        this._enterTimerId = this._async.setTimeout(() => this._onSubMenuDismiss(ev), 500);\r\n      }\r\n    }\r\n\r\n    targetElement.focus();\r\n  }\r\n\r\n  @autobind\r\n  private _onMouseItemLeave(item: any, ev: React.MouseEvent<HTMLElement>) {\r\n    this._async.clearTimeout(this._enterTimerId);\r\n\r\n    if (item.key === this.state.expandedMenuItemKey && hasSubmenuItems(item)) {\r\n      return;\r\n    }\r\n\r\n    this._host.focus();\r\n  }\r\n\r\n  private _onItemMouseDown(item: IContextualMenuItem, ev: React.MouseEvent<HTMLElement>) {\r\n    if (item.onMouseDown) {\r\n      item.onMouseDown(item, ev);\r\n    }\r\n  }\r\n\r\n  private _onItemClick(item: IContextualMenuItem, ev: React.MouseEvent<HTMLElement>) {\r\n    let items = getSubmenuItems(item);\r\n\r\n    if (!items || !items.length) { // This is an item without a menu. Click it.\r\n      this._executeItemClick(item, ev);\r\n    } else {\r\n      if (item.key === this.state.expandedMenuItemKey) { // This has an expanded sub menu. collapse it.\r\n        this._onSubMenuDismiss(ev);\r\n      } else { // This has a collapsed sub menu. Expand it.\r\n        this._onItemSubMenuExpand(item, ev.currentTarget as HTMLElement);\r\n      }\r\n    }\r\n\r\n    ev.stopPropagation();\r\n    ev.preventDefault();\r\n  }\r\n\r\n  private _onAnchorClick(item: IContextualMenuItem, ev: React.MouseEvent<HTMLElement>) {\r\n    this._executeItemClick(item, ev);\r\n    ev.stopPropagation();\r\n  }\r\n\r\n  private _executeItemClick(item: IContextualMenuItem, ev: React.MouseEvent<HTMLElement>) {\r\n    if (item.onClick) {\r\n      item.onClick(ev, item);\r\n    } else if (this.props.onItemClick) {\r\n      this.props.onItemClick(ev, item);\r\n    }\r\n\r\n    !ev.defaultPrevented && this.dismiss(ev, true);\r\n  }\r\n\r\n  private _onItemKeyDown(item: any, ev: KeyboardEvent) {\r\n    let openKey = getRTL() ? KeyCodes.left : KeyCodes.right;\r\n\r\n    if (ev.which === openKey) {\r\n      this._onItemSubMenuExpand(item, ev.currentTarget as HTMLElement);\r\n      ev.preventDefault();\r\n    }\r\n  }\r\n\r\n  private _onItemSubMenuExpand(item: IContextualMenuItem, target: HTMLElement) {\r\n    if (this.state.expandedMenuItemKey !== item.key) {\r\n\r\n      if (this.state.expandedMenuItemKey) {\r\n        this._onSubMenuDismiss();\r\n      }\r\n      this.setState({\r\n        expandedMenuItemKey: item.key,\r\n        submenuTarget: target\r\n      });\r\n    }\r\n  }\r\n\r\n  private _getSubmenuProps() {\r\n    const { submenuTarget, expandedMenuItemKey } = this.state;\r\n    const item = this._findItemByKey(expandedMenuItemKey!);\r\n    let submenuProps = null;\r\n\r\n    if (item) {\r\n      submenuProps = {\r\n        items: getSubmenuItems(item)!,\r\n        target: submenuTarget,\r\n        onDismiss: this._onSubMenuDismiss,\r\n        isSubMenu: true,\r\n        id: this.state.subMenuId,\r\n        shouldFocusOnMount: true,\r\n        directionalHint: getRTL() ? DirectionalHint.leftTopEdge : DirectionalHint.rightTopEdge,\r\n        className: this.props.className,\r\n        gapSpace: 0,\r\n        isBeakVisible: false\r\n      };\r\n\r\n      if (item.subMenuProps) {\r\n        assign(submenuProps, item.subMenuProps);\r\n      }\r\n    }\r\n    return submenuProps;\r\n  }\r\n\r\n  private _findItemByKey(key: string): IContextualMenuItem | undefined {\r\n    let { items } = this.props;\r\n    return this._findItemByKeyFromItems(key, items);\r\n  }\r\n\r\n  /**\r\n   * Returns the item that mathes a given key if any.\r\n   * @param key The key of the item to match\r\n   * @param items The items to look for the key\r\n   */\r\n  private _findItemByKeyFromItems(key: string, items: IContextualMenuItem[]): IContextualMenuItem | undefined {\r\n    for (const item of items) {\r\n      if (item.itemType === ContextualMenuItemType.Section && item.sectionProps) {\r\n        const match = this._findItemByKeyFromItems(key, item.sectionProps.items);\r\n        if (match) {\r\n          return match;\r\n        }\r\n      } else if (item.key && item.key === key) {\r\n        return item;\r\n      }\r\n    }\r\n  }\r\n\r\n  @autobind\r\n  private _onSubMenuDismiss(ev?: any, dismissAll?: boolean) {\r\n    if (dismissAll) {\r\n      this.dismiss(ev, dismissAll);\r\n    } else {\r\n      this.setState({\r\n        dismissedMenuItemKey: this.state.expandedMenuItemKey,\r\n        expandedMenuItemKey: undefined,\r\n        submenuTarget: undefined\r\n      });\r\n    }\r\n  }\r\n\r\n  private _setTargetWindowAndElement(target: HTMLElement | string | MouseEvent | IPoint): void {\r\n    if (target) {\r\n      if (typeof target === 'string') {\r\n        let currentDoc: Document = getDocument()!;\r\n        this._target = currentDoc ? currentDoc.querySelector(target) as HTMLElement : null;\r\n        this._targetWindow = getWindow()!;\r\n      } else if ((target as MouseEvent).stopPropagation) {\r\n        this._targetWindow = getWindow((target as MouseEvent).toElement as HTMLElement)!;\r\n        this._target = target;\r\n      } else if ((target as IPoint).x !== undefined && (target as IPoint).y !== undefined) {\r\n        this._targetWindow = getWindow()!;\r\n        this._target = target;\r\n      } else {\r\n        let targetElement: HTMLElement = target as HTMLElement;\r\n        this._targetWindow = getWindow(targetElement)!;\r\n        this._target = target;\r\n      }\r\n    } else {\r\n      this._targetWindow = getWindow()!;\r\n    }\r\n  }\r\n}"]}