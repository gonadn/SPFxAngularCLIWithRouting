{"version":3,"file":"BaseButton.js","sourceRoot":"../src/","sources":["components/Button/BaseButton.tsx"],"names":[],"mappings":"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","sourcesContent":["import * as React from 'react';\r\nimport {\r\n  BaseComponent,\r\n  IRenderFunction,\r\n  anchorProperties,\r\n  assign,\r\n  autobind,\r\n  buttonProperties,\r\n  getId,\r\n  getNativeProps,\r\n  KeyCodes\r\n} from '../../Utilities';\r\nimport { Icon, IIconProps } from '../../Icon';\r\nimport { DirectionalHint } from '../../common/DirectionalHint';\r\nimport { ContextualMenu, IContextualMenuProps } from '../../ContextualMenu';\r\nimport { IButtonProps, IButton } from './Button.Props';\r\nimport { IButtonClassNames, getClassNames } from './BaseButton.classNames';\r\nimport { getClassNames as getSplitButtonClassNames, ISplitButtonClassNames } from './SplitButton/SplitButton.classNames';\r\n\r\nexport interface IBaseButtonProps extends IButtonProps {\r\n  baseClassName?: string;\r\n  variantClassName?: string;\r\n}\r\n\r\nexport interface IBaseButtonState {\r\n  menuProps?: IContextualMenuProps | null;\r\n}\r\n\r\nexport class BaseButton extends BaseComponent<IBaseButtonProps, IBaseButtonState> implements IButton {\r\n\r\n  private get _isSplitButton(): boolean {\r\n    return (!!this.props.menuProps && !!this.props.onClick) && this.props.split === true;\r\n  }\r\n\r\n  private get _isExpanded(): boolean {\r\n    return !!this.state.menuProps;\r\n  }\r\n\r\n  public static defaultProps = {\r\n    baseClassName: 'ms-Button',\r\n    classNames: {},\r\n    styles: {},\r\n    split: false\r\n  };\r\n\r\n  private _buttonElement: HTMLElement;\r\n  private _splitButtonContainer: HTMLElement;\r\n  private _labelId: string;\r\n  private _descriptionId: string;\r\n  private _ariaDescriptionId: string;\r\n  private _classNames: IButtonClassNames;\r\n\r\n  constructor(props: IBaseButtonProps, rootClassName: string) {\r\n    super(props);\r\n\r\n    this._warnConditionallyRequiredProps(\r\n      ['menuProps', 'onClick'],\r\n      'split',\r\n      this.props.split!\r\n    );\r\n\r\n    this._warnDeprecations({\r\n      rootProps: undefined\r\n    });\r\n    this._labelId = getId();\r\n    this._descriptionId = getId();\r\n    this._ariaDescriptionId = getId();\r\n    this.state = {\r\n      menuProps: null\r\n    };\r\n  }\r\n\r\n  public render(): JSX.Element {\r\n    const {\r\n      ariaDescription,\r\n      ariaLabel,\r\n      ariaHidden,\r\n      className,\r\n      description,\r\n      disabled,\r\n      primaryDisabled,\r\n      href,\r\n      iconProps,\r\n      menuIconProps,\r\n      styles,\r\n      text,\r\n      checked,\r\n      variantClassName\r\n         } = this.props;\r\n\r\n    let { menuProps } = this.state;\r\n    // Button is disabled if the whole button (in case of splitbutton is disabled) or if the primary action is disabled\r\n    let isPrimaryButtonDisabled = (disabled || primaryDisabled);\r\n\r\n    this._classNames = getClassNames(\r\n      styles!,\r\n      className!,\r\n      variantClassName!,\r\n      iconProps && iconProps.className,\r\n      menuIconProps && menuIconProps.className,\r\n      isPrimaryButtonDisabled!,\r\n      checked!,\r\n      !!this.state.menuProps,\r\n      this.props.split\r\n    );\r\n\r\n    const { _ariaDescriptionId, _labelId, _descriptionId } = this;\r\n    // Anchor tag cannot be disabled hence in disabled state rendering\r\n    // anchor button as normal button\r\n    const renderAsAnchor: boolean = !isPrimaryButtonDisabled && !!href;\r\n    const tag = renderAsAnchor ? 'a' : 'button';\r\n    const nativeProps = getNativeProps(\r\n      assign(\r\n        renderAsAnchor ? {} : { type: 'button' },\r\n        this.props.rootProps,\r\n        this.props),\r\n      renderAsAnchor ? anchorProperties : buttonProperties,\r\n      [\r\n        'disabled' // Let disabled buttons be focused and styled as disabled.\r\n      ]);\r\n\r\n    // Check for ariaDescription, description or aria-describedby in the native props to determine source of aria-describedby\r\n    // otherwise default to null.\r\n    let ariaDescribedBy;\r\n    if (ariaDescription) {\r\n      ariaDescribedBy = _ariaDescriptionId;\r\n    } else if (description) {\r\n      ariaDescribedBy = _descriptionId;\r\n    } else if ((nativeProps as any)['aria-describedby']) {\r\n      ariaDescribedBy = (nativeProps as any)['aria-describedby'];\r\n    } else {\r\n      ariaDescribedBy = null;\r\n    }\r\n\r\n    // If an explicit ariaLabel is given, use that as the label and we're done.\r\n    // If an explicit aria-labelledby is given, use that and we're done.\r\n    // If any kind of description is given (which will end up as an aria-describedby attribute),\r\n    // set the labelledby element. Otherwise, the button is labeled implicitly by the descendent\r\n    // text on the button (if it exists). Never set both aria-label and aria-labelledby.\r\n    let ariaLabelledBy = null;\r\n    if (!ariaLabel) {\r\n      if ((nativeProps as any)['aria-labelledby']) {\r\n        ariaLabelledBy = (nativeProps as any)['aria-labelledby'];\r\n      } else if (ariaDescribedBy) {\r\n        ariaLabelledBy = text ? _labelId : null;\r\n      }\r\n    }\r\n\r\n    const buttonProps = assign(\r\n      nativeProps,\r\n      {\r\n        className: this._classNames.root,\r\n        ref: this._resolveRef('_buttonElement'),\r\n        'disabled': isPrimaryButtonDisabled,\r\n        'aria-label': ariaLabel,\r\n        'aria-labelledby': ariaLabelledBy,\r\n        'aria-describedby': ariaDescribedBy,\r\n        'data-is-focusable': ((this.props as any)['data-is-focusable'] === false || disabled) ? false : true,\r\n        'aria-pressed': checked\r\n      }\r\n    );\r\n\r\n    if (ariaHidden) {\r\n      buttonProps['aria-hidden'] = true;\r\n    }\r\n\r\n    if (this._isSplitButton) {\r\n      return (\r\n        this._onRenderSplitButtonContent(tag, buttonProps)\r\n      );\r\n    } else if (this.props.menuProps) {\r\n      assign(\r\n        buttonProps,\r\n        {\r\n          'onKeyDown': this._onMenuKeyDown,\r\n          'onClick': this._onMenuClick,\r\n          'aria-expanded': this._isExpanded,\r\n          'aria-owns': this.state.menuProps ? this._labelId + '-menu' : null,\r\n          'aria-haspopup': true\r\n        }\r\n      );\r\n    }\r\n\r\n    return this._onRenderContent(tag, buttonProps);\r\n  }\r\n\r\n  public focus(): void {\r\n    if (this._buttonElement) {\r\n      this._buttonElement.focus();\r\n    }\r\n  }\r\n\r\n  public dismissMenu(): void {\r\n    this.setState({ menuProps: null });\r\n  }\r\n\r\n  private _onRenderContent(tag: any, buttonProps: IButtonProps): JSX.Element {\r\n    let props = this.props;\r\n    let {\r\n      menuIconProps,\r\n      menuProps,\r\n      onRenderIcon = this._onRenderIcon,\r\n      onRenderAriaDescription = this._onRenderAriaDescription,\r\n      onRenderChildren = this._onRenderChildren,\r\n      onRenderMenu = this._onRenderMenu,\r\n      onRenderMenuIcon = this._onRenderMenuIcon\r\n    } = props;\r\n\r\n    return React.createElement(\r\n      tag,\r\n      buttonProps,\r\n      React.createElement(\r\n        'div' as any,\r\n        { className: this._classNames.flexContainer },\r\n        onRenderIcon(props, this._onRenderIcon),\r\n        this._onRenderTextContents(),\r\n        onRenderAriaDescription(props, this._onRenderAriaDescription),\r\n        onRenderChildren(props, this._onRenderChildren),\r\n        !this._isSplitButton && (menuProps || menuIconProps || this.props.onRenderMenuIcon) && onRenderMenuIcon(this.props, this._onRenderMenuIcon),\r\n        this.state.menuProps && onRenderMenu(menuProps, this._onRenderMenu)\r\n      ));\r\n  }\r\n\r\n  @autobind\r\n  private _onRenderIcon(buttonProps?: IButtonProps, defaultRender?: IRenderFunction<IButtonProps>): JSX.Element | null {\r\n    let {\r\n      iconProps\r\n       } = this.props;\r\n\r\n    if (iconProps) {\r\n      return Icon({\r\n        ...iconProps,\r\n        className: this._classNames.icon\r\n      });\r\n    }\r\n    return null;\r\n  }\r\n\r\n  @autobind\r\n  private _onRenderTextContents(): JSX.Element | (JSX.Element | null)[] {\r\n    let {\r\n      text,\r\n      children,\r\n      description,\r\n      onRenderText = this._onRenderText,\r\n      onRenderDescription = this._onRenderDescription\r\n    } = this.props;\r\n\r\n    if (text || typeof (children) === 'string' || description) {\r\n      return (\r\n        <div\r\n          className={ this._classNames.textContainer }\r\n        >\r\n          { onRenderText(this.props, this._onRenderText) }\r\n          { onRenderDescription(this.props, this._onRenderDescription) }\r\n        </div>\r\n      );\r\n    }\r\n    return ([\r\n      onRenderText(this.props, this._onRenderText),\r\n      onRenderDescription(this.props, this._onRenderDescription)\r\n    ]);\r\n  }\r\n\r\n  @autobind\r\n  private _onRenderText(): JSX.Element | null {\r\n    let {\r\n      children,\r\n      text\r\n            } = this.props;\r\n\r\n    // For backwards compat, we should continue to take in the text content from children.\r\n    if (text === undefined && typeof (children) === 'string') {\r\n      text = children;\r\n    }\r\n\r\n    if (text) {\r\n      return (\r\n        <div\r\n          key={ this._labelId }\r\n          className={ this._classNames.label }\r\n          id={ this._labelId }\r\n        >\r\n          { text }\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  @autobind\r\n  private _onRenderChildren(): JSX.Element | null {\r\n    const { children } = this.props;\r\n\r\n    // If children is just a string, either it or the text will be rendered via onRenderLabel\r\n    // If children is another component, it will be rendered after text\r\n    if (typeof (children) === 'string') {\r\n      return null;\r\n    }\r\n\r\n    return children as any;\r\n  }\r\n\r\n  @autobind\r\n  private _onRenderDescription(props: IButtonProps) {\r\n    const {\r\n    description\r\n    } = this.props;\r\n\r\n    // ms-Button-description is only shown when the button type is compound.\r\n    // In other cases it will not be displayed.\r\n    return description ? (\r\n      <div\r\n        key={ this._descriptionId }\r\n        className={ this._classNames.description }\r\n        id={ this._descriptionId }\r\n      >\r\n        { description }\r\n      </div>\r\n    ) : (\r\n        null\r\n      );\r\n  }\r\n\r\n  @autobind\r\n  private _onRenderAriaDescription() {\r\n    const {\r\n      ariaDescription\r\n    } = this.props;\r\n\r\n    // If ariaDescription is given, descriptionId will be assigned to ariaDescriptionSpan,\r\n    // otherwise it will be assigned to descriptionSpan.\r\n    return ariaDescription ? (\r\n      <span className={ this._classNames.screenReaderText } id={ this._ariaDescriptionId }>{ ariaDescription }</span>\r\n    ) : (\r\n        null\r\n      );\r\n  }\r\n\r\n  @autobind\r\n  private _onRenderMenuIcon(props: IButtonProps): JSX.Element | null {\r\n    let {\r\n      menuIconProps\r\n    } = this.props;\r\n\r\n    return (\r\n\r\n      <Icon\r\n        iconName='ChevronDown'\r\n        { ...menuIconProps }\r\n        className={ this._classNames.menuIcon }\r\n      />\r\n\r\n    );\r\n  }\r\n\r\n  @autobind\r\n  private _onRenderMenu(menuProps: IContextualMenuProps): JSX.Element {\r\n    const { onDismiss = this._onToggleMenu } = menuProps;\r\n\r\n    return (\r\n      <ContextualMenu\r\n        id={ this._labelId + '-menu' }\r\n        directionalHint={ DirectionalHint.bottomLeftEdge }\r\n        {...menuProps}\r\n        className={ 'ms-BaseButton-menuhost ' + menuProps.className }\r\n        target={ this._isSplitButton ? this._splitButtonContainer : this._buttonElement }\r\n        labelElementId={ this._labelId }\r\n        onDismiss={ onDismiss }\r\n      />\r\n    );\r\n  }\r\n\r\n  @autobind\r\n  private _onToggleMenu(): void {\r\n    const { menuProps } = this.props;\r\n    let currentMenuProps = this.state.menuProps;\r\n    this.setState({ menuProps: currentMenuProps ? null : menuProps });\r\n  }\r\n\r\n  private _onRenderSplitButtonContent(tag: any, buttonProps: IButtonProps): JSX.Element {\r\n    const {\r\n      styles = {},\r\n      disabled,\r\n      checked\r\n    } = this.props;\r\n\r\n    const classNames = styles && getSplitButtonClassNames(styles!, !!disabled, !!this.state.menuProps, !!checked);\r\n\r\n    return (\r\n      <div\r\n        aria-labelledby={ buttonProps.ariaLabel }\r\n        aria-disabled={ disabled }\r\n        aria-haspopup={ true }\r\n        aria-expanded={ this._isExpanded }\r\n        aria-pressed={ this.props.checked }\r\n        aria-describedby={ buttonProps.ariaDescription }\r\n        className={ classNames && classNames.splitButtonContainer }\r\n        onKeyDown={ this._onMenuKeyDown }\r\n        ref={ this._resolveRef('_splitButtonContainer') }\r\n      >\r\n        <span\r\n          aria-hidden={ true }\r\n          // TODO: THIS SHOULD BE REMOVED!\r\n          style={ { 'display': 'flex' } }\r\n        >\r\n          { this._onRenderContent(tag, buttonProps) }\r\n          { this._onRenderSplitButtonMenuButton(classNames) }\r\n          { this._onRenderSplitButtonDivider(classNames) }\r\n        </span>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  private _onRenderSplitButtonDivider(classNames: ISplitButtonClassNames | undefined): JSX.Element | null {\r\n    if (classNames && classNames.divider) {\r\n      return <span className={ classNames.divider } />;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  private _onRenderSplitButtonMenuButton(classNames: ISplitButtonClassNames | undefined): JSX.Element {\r\n    let {\r\n      menuIconProps\r\n    } = this.props;\r\n\r\n    if (menuIconProps === undefined) {\r\n      menuIconProps = {\r\n        iconName: 'ChevronDown'\r\n      };\r\n    }\r\n\r\n    let splitButtonProps = {\r\n      'styles': classNames,\r\n      'checked': this.props.checked,\r\n      'disabled': this.props.disabled,\r\n      'onClick': this._onMenuClick,\r\n      'menuProps': undefined,\r\n      'iconProps': menuIconProps\r\n    };\r\n\r\n    return <BaseButton {...splitButtonProps} />;\r\n  }\r\n\r\n  @autobind\r\n  private _onMenuKeyDown(ev: React.KeyboardEvent<HTMLElement>) {\r\n    if (ev.which === KeyCodes.down) {\r\n      let { onMenuClick } = this.props;\r\n      onMenuClick && onMenuClick(ev, this);\r\n      !ev.defaultPrevented && this._onToggleMenu();\r\n      ev.preventDefault();\r\n      ev.stopPropagation();\r\n    }\r\n  }\r\n\r\n  @autobind\r\n  private _onMenuClick(ev: React.MouseEvent<HTMLAnchorElement>) {\r\n    let { onMenuClick } = this.props;\r\n    onMenuClick && onMenuClick(ev, this);\r\n    !ev.defaultPrevented && this._onToggleMenu();\r\n    ev.preventDefault();\r\n    ev.stopPropagation();\r\n  }\r\n}"]}