"use strict";
// Copyright (c) Microsoft Corporation. All rights reserved. Licensed under the MIT license.
// See LICENSE in the project root for license information.
Object.defineProperty(exports, "__esModule", { value: true });
/* istanbul ignore next */
const stream = require("stream");
/**
 * A special type of stream which keeps track of everything written to it, which can be read with the readAll() function
 */
class PersistentStream extends stream.Transform {
    constructor(opts) {
        super(opts);
        this._buffer = [];
    }
    _transform(chunk, encoding, done) {
        this._buffer.push(chunk.toString());
        done(undefined, chunk.toString());
    }
    readAll() {
        return this._buffer.join('');
    }
}
exports.default = PersistentStream;

//# sourceMappingURL=PersistentStream.js.map
