"use strict";
// Copyright (c) Microsoft Corporation. All rights reserved. Licensed under the MIT license.
// See LICENSE in the project root for license information.
Object.defineProperty(exports, "__esModule", { value: true });
const State_1 = require("./State");
const ENVIRONMENT_VARIABLE_PREFIX = 'GCB_';
let _defaultValues = {};
function setConfigDefaults(defaultValues) {
    _defaultValues = defaultValues;
}
exports.setConfigDefaults = setConfigDefaults;
function getConfigValue(name, defaultValue) {
    // Try to get config value from environment variable.
    const envVariable = ENVIRONMENT_VARIABLE_PREFIX + name.toUpperCase();
    const envValue = process.env[envVariable];
    const argsValue = State_1.args[name.toLowerCase()];
    return _firstDefinedValue(argsValue, envValue, defaultValue, _defaultValues[name]);
}
exports.getConfigValue = getConfigValue;
function getFlagValue(name, defaultValue) {
    const configValue = getConfigValue(name, defaultValue);
    return configValue === 'true' || configValue === true;
}
exports.getFlagValue = getFlagValue;
/* tslint:disable:no-any */
function _firstDefinedValue(...values) {
    /* tslint:enable:no-any */
    for (const value of values) {
        if (value !== undefined) {
            return value;
        }
    }
    return undefined;
}

//# sourceMappingURL=config.js.map
