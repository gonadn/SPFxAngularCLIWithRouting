{"version":3,"sources":["cli/utilities/PackageLookup.ts"],"names":[],"mappings":";AAAA,4FAA4F;AAC5F,2DAA2D;;AAI3D;IAGE;QACE,IAAI,CAAC,WAAW,GAAG,IAAI,GAAG,EAAmB,CAAC;IAChD,CAAC;IAEM,QAAQ,CAAC,IAAa;QAC3B,MAAM,KAAK,GAAc,CAAC,IAAI,CAAC,CAAC;QAEhC,gFAAgF;QAChF,YAAY;QAEZ,iDAAiD;QACjD,OAAO,IAAI,EAAE,CAAC;YACZ,MAAM,OAAO,GAAwB,KAAK,CAAC,KAAK,EAAE,CAAC;YACnD,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;gBACb,KAAK,CAAC;YACR,CAAC;YAED,GAAG,CAAC,CAAC,MAAM,KAAK,IAAI,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC;gBACrC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YACpB,CAAC;YAED,MAAM,GAAG,GAAW,OAAO,CAAC,cAAc,CAAC;YAE3C,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;gBAC/B,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC;YACrC,CAAC;QACH,CAAC;IACH,CAAC;IAEM,UAAU,CAAC,cAAsB;QACtC,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;IAC9C,CAAC;CACF;AAnCD,gCAmCC","file":"cli/utilities/PackageLookup.js","sourcesContent":["// Copyright (c) Microsoft Corporation. All rights reserved. Licensed under the MIT license.\r\n// See LICENSE in the project root for license information.\r\n\r\nimport Package from './Package';\r\n\r\nexport default class PackageLookup {\r\n  private _packageMap: Map<string, Package>;\r\n\r\n  constructor() {\r\n    this._packageMap = new Map<string, Package>();\r\n  }\r\n\r\n  public loadTree(root: Package): void {\r\n    const queue: Package[] = [root];\r\n\r\n    // We want the lookup to return the shallowest match, so this is a breadth first\r\n    // traversal\r\n\r\n    // tslint:disable-next-line:no-constant-condition\r\n    while (true) {\r\n      const current: Package | undefined = queue.shift();\r\n      if (!current) {\r\n        break;\r\n      }\r\n\r\n      for (const child of current.children) {\r\n        queue.push(child);\r\n      }\r\n\r\n      const key: string = current.nameAndVersion;\r\n\r\n      if (!this._packageMap.has(key)) {\r\n        this._packageMap.set(key, current);\r\n      }\r\n    }\r\n  }\r\n\r\n  public getPackage(nameAndVersion: string): Package | undefined {\r\n    return this._packageMap.get(nameAndVersion);\r\n  }\r\n}\r\n"],"sourceRoot":"..\\..\\..\\src"}